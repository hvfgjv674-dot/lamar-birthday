<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ù„Ù…Ø§Ø± â€” Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ</title>
<style>
  :root{
    --bg:#0f1724;     /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© */
    --panel:#0b1220;
    --accent:#00e0ff; /* Ù„ÙˆÙ† Ù†ÙŠÙˆÙ† Ø³Ù…Ø§ÙˆÙŠ */
    --accent2:#ff49a1; /* ÙˆØ±Ø¯ÙŠ */
    --muted:#98a0b3;
    --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    font-family: "Segoe UI", Tahoma, Helvetica, "Noto Kufi Arabic", "Cairo", monospace;
    background:
      radial-gradient(1200px 500px at 10% 10%, rgba(0,224,255,0.04), transparent 8%),
      radial-gradient(1000px 400px at 90% 90%, rgba(255,73,161,0.03), transparent 8%),
      var(--bg);
    color:#e6eef7;
    padding:28px;
  }

  .card{
    width:100%;
    max-width:900px;
    border-radius:14px;
    padding:28px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 10px 40px rgba(2,6,23,0.7);
    border: 1px solid rgba(255,255,255,0.03);
    position:relative;
    overflow:hidden;
  }

  /* header */
  .head{
    display:flex;
    gap:18px;
    align-items:center;
    justify-content:space-between;
    margin-bottom:18px;
  }
  .brand{
    display:flex; gap:12px; align-items:center;
  }
  .logo{
    width:64px; height:64px; border-radius:10px;
    background:linear-gradient(135deg,var(--accent),var(--accent2));
    display:flex; align-items:center; justify-content:center;
    font-weight:700; color:#02101a; font-size:20px; box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  }
  .title{
    display:flex; flex-direction:column;
    line-height:1;
  }
  .title .big{font-size:20px; font-weight:700; color: #fff}
  .title .sub{color:var(--muted); font-size:13px; margin-top:4px}

  .right-controls{display:flex; gap:10px; align-items:center;}
  .btn{
    background:var(--glass); border:1px solid rgba(255,255,255,0.04);
    padding:8px 12px; border-radius:10px; color:var(--accent);
    font-weight:600; cursor:pointer; font-size:13px;
  }

  /* body layout */
  .body-grid{
    display:grid;
    grid-template-columns: 1fr 320px;
    gap:22px;
    align-items:center;
  }

  /* left: big clock + message */
  .clock-panel{
    padding:18px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
    border:1px solid rgba(255,255,255,0.02);
  }
  .heading{
    display:flex; align-items:center; gap:12px; margin-bottom:10px;
  }
  .heading h2{margin:0; font-size:20px; color:#fff}
  .heading p{margin:0; color:var(--muted); font-size:13px}

  .big-counter{
    display:flex; gap:12px; align-items:center; justify-content:flex-start;
    margin-top:14px;
    flex-wrap:wrap;
  }
  .unit{
    min-width:120px;
    background:linear-gradient(180deg, rgba(255,255,255,0.012), transparent);
    border-radius:12px;
    padding:14px 18px;
    border:1px solid rgba(255,255,255,0.02);
    box-shadow: inset 0 -6px 18px rgba(0,0,0,0.4);
  }
  .u-label{font-size:13px; color:var(--muted); margin-bottom:6px}
  .u-value{font-size:32px; font-weight:800; color:var(--accent); letter-spacing:1px}

  /* progress ring row */
  .progress-row{margin-top:18px; display:flex; gap:12px; align-items:center; flex-wrap:wrap}
  .pr{
    flex:1;
    min-width:150px;
    background:rgba(255,255,255,0.02);
    padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,0.02);
  }
  .pr .label{font-size:12px; color:var(--muted)}
  .bar{
    height:10px; background:rgba(0,0,0,0.15); border-radius:8px; margin-top:8px; overflow:hidden;
  }
  .bar > i{display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent2)); transition:width 0.6s ease}

  /* right panel */
  .side{
    padding:18px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
    border:1px solid rgba(255,255,255,0.02);
    display:flex; flex-direction:column; gap:12px; align-items:center;
  }
  .side h3{margin:6px 0 2px 0; color:#fff}
  .side p{margin:0; color:var(--muted); font-size:13px; text-align:center}
  .countdown-circle{
    width:220px; height:220px; border-radius:50%; display:grid; place-items:center;
    background: conic-gradient(var(--accent) 0deg, rgba(255,255,255,0.02) 0deg);
    position:relative; margin-top:10px;
  }
  .countdown-circle .center{
    width:160px; height:160px; border-radius:50%; background:var(--panel);
    display:flex; align-items:center; justify-content:center; flex-direction:column;
    border:6px solid rgba(255,255,255,0.02);
  }
  .center .num{font-size:28px; font-weight:800; color:var(--accent)}
  .center .lbl{font-size:12px; color:var(--muted); margin-top:6px}

  /* celebration overlay */
  .overlay{
    position:absolute; inset:0; display:none; align-items:center; justify-content:center;
    background: linear-gradient(90deg, rgba(0,0,0,0.45), rgba(0,0,0,0.25));
    z-index:40; flex-direction:column; gap:14px; padding:28px;
  }
  .overlay.show{display:flex}
  .overlay h1{font-size:36px; margin:0; color:var(--accent2)}
  .overlay p{margin:0; color:#fff; font-size:18px}

  /* responsive */
  @media (max-width:880px){
    .body-grid{grid-template-columns:1fr; }
    .side{order:-1}
  }
</style>
</head>
<body>
  <div class="card" id="card">
    <div class="head">
      <div class="brand">
        <div class="logo">C++</div>
        <div class="title">
          <div class="big">Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ù„Ù…Ø§Ø±</div>
          <div class="sub">Ø¹Ø¯Ø§Ø¯ Ø§Ø­ØªØ±Ø§ÙÙŠ â€” ØªÙˆÙ‚ÙŠØª Ù„ÙŠØ¨ÙŠØ§ (UTC+2)</div>
        </div>
      </div>

      <div class="right-controls">
        <button class="btn" id="previewBtn">Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
        <button class="btn" id="copyBtn">Ø§Ù†Ø³Ø® ÙƒÙˆØ¯</button>
      </div>
    </div>

    <div class="body-grid">
      <div class="clock-panel">
        <div class="heading">
          <h2>â³ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ø­ØªÙ‰ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„</h2>
          <p>ÙŠØ­Ø³Ø¨ Ø¨ØªÙˆÙ‚ÙŠØª Ù„ÙŠØ¨ÙŠØ§ (UTC+2) Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯</p>
        </div>

        <div class="big-counter" id="bigCounter">
          <div class="unit">
            <div class="u-label">Ø£ÙŠØ§Ù…</div>
            <div class="u-value" id="days">00</div>
          </div>
          <div class="unit">
            <div class="u-label">Ø³Ø§Ø¹Ø§Øª</div>
            <div class="u-value" id="hours">00</div>
          </div>
          <div class="unit">
            <div class="u-label">Ø¯Ù‚Ø§Ø¦Ù‚</div>
            <div class="u-value" id="minutes">00</div>
          </div>
          <div class="unit">
            <div class="u-label">Ø«ÙˆØ§Ù†ÙŠ</div>
            <div class="u-value" id="seconds">00</div>
          </div>
        </div>

        <div class="progress-row">
          <div class="pr">
            <div class="label">Ù†Ø³Ø¨Ø© Ø§Ù„ÙŠÙˆÙ…</div>
            <div class="bar"><i id="dayBar"></i></div>
          </div>
          <div class="pr">
            <div class="label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø³Ø§Ø¹Ø©</div>
            <div class="bar"><i id="hourBar"></i></div>
          </div>
          <div class="pr">
            <div class="label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©</div>
            <div class="bar"><i id="minBar"></i></div>
          </div>
        </div>
      </div>

      <div class="side">
        <h3>Ù„Ù…Ø§Ø± ğŸ‚</h3>
        <p>ÙƒÙ„ Ø³Ù†Ø© ÙˆÙ‡ÙŠ Ø·ÙŠØ¨Ø© â€” Ø§Ø³ØªØ¹Ø¯ÙˆØ§ Ù„Ù„Ø§Ø­ØªÙØ§Ù„ Ø¹Ù†Ø¯ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„Ø©!</p>

        <div class="countdown-circle" id="ring">
          <div class="center">
            <div class="num" id="mainNum">00</div>
            <div class="lbl">Ø³Ø§Ø¹Ø§Øª Ù…ØªØ¨Ù‚ÙŠØ©</div>
          </div>
        </div>

        <div style="width:100%; text-align:center; margin-top:14px">
          <button class="btn" id="shareBtn">Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø§Ø¨Ø· (Ø¨Ø¹Ø¯ Ø§Ù„Ø±ÙØ¹)</button>
        </div>
      </div>
    </div>

    <div class="overlay" id="overlay">
      <h1>ğŸ‰ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ù„Ù…Ø§Ø± ğŸ‰</h1>
      <p>ÙƒÙ„ Ø³Ù†Ø© ÙˆØ§Ù†ØªÙŠ Ø·ÙŠØ¨Ø© â€” ÙŠÙˆÙ…Ùƒ Ø¬Ù‡! â¤</p>
      <canvas id="confetti" width="800" height="400" style="width:100%; max-width:860px; border-radius:12px;"></canvas>
      <audio id="audio" src="" preload="none"></audio>
      <div style="margin-top:8px;">
        <button class="btn" id="closeOverlay">Ø§ØºÙ„Ø§Ù‚</button>
      </div>
    </div>
  </div>

<script>
/* ====== Helper: Libya time (UTC+2) ====== */
function libyaNowMs(){
  const now = new Date();
  const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
  const libyaOffsetMinutes = 2 * 60; // UTC+2
  return utc + libyaOffsetMinutes*60000;
}

function libyaMidnightMs(){
  const ms = libyaNowMs();
  const d = new Date(ms);
  // ØªØ­Ø¯ÙŠØ¯ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„ Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ Ø¨ØªÙˆÙ‚ÙŠØª Ù„ÙŠØ¨ÙŠØ§
  return new Date(d.getFullYear(), d.getMonth(), d.getDate()+1,0,0,0).getTime();
}

/* ====== Countdown logic ====== */
let target = libyaMidnightMs();
const daysEl = document.getElementById('days');
const hoursEl = document.getElementById('hours');
const minsEl = document.getElementById('minutes');
const secsEl = document.getElementById('seconds');
const mainNum = document.getElementById('mainNum');

const dayBar = document.getElementById('dayBar');
const hourBar = document.getElementById('hourBar');
const minBar = document.getElementById('minBar');

function pad(n){ return String(n).padStart(2,'0'); }

function updateCountdown(){
  const nowMs = libyaNowMs();
  let distance = target - nowMs;
  if(distance < 0){
    // Ø¥Ø°Ø§ ÙˆØµÙ„ Ø§Ù„ÙˆÙ‚Øª Ø£Ùˆ ÙØ§ØªØŒ ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‡Ø¯Ù Ù„Ù…Ù†ØªØµÙ Ù„ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ
    // Ù‡Ø°Ø§ Ù…Ù‡Ù… Ø­ØªÙ‰ ØªØ³ØªÙ…Ø± Ø§Ù„Ø´Ø§Ø´Ø© ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø­ØªÙ‰ Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ±
    target = libyaMidnightMs(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡Ø¯Ù Ù„Ù…Ù†ØªØµÙ Ù„ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ
    distance = target - nowMs; // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
    
    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙØ±Ù‚ Ù„Ø§ ÙŠØ²Ø§Ù„ Ø³Ø§Ù„Ø¨Ù‹Ø§ (Ø­Ø§Ù„Ø© Ù†Ø§Ø¯Ø±Ø©)ØŒ Ø§Ø¶Ø¨Ø·Ù‡ Ø¹Ù„Ù‰ ØµÙØ±
    if(distance < 0) {
        distance = 0;
    }

  }

  const days = Math.floor(distance / (1000*60*60*24));
  const hours = Math.floor((distance % (1000*60*60*24)) / (1000*60*60));
  const minutes = Math.floor((distance % (1000*60*60)) / (1000*60));
  const seconds = Math.floor((distance % (1000*60)) / 1000);

  daysEl.textContent = pad(days);
  hoursEl.textContent = pad(hours);
  minsEl.textContent = pad(minutes);
  secsEl.textContent = pad(seconds);

  mainNum.textContent = pad(hours);

  // progress percentages
  // Ù†Ø­Ø³Ø¨ Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª ÙˆØ§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ ÙˆØ§Ù„Ø«ÙˆØ§Ù†ÙŠ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ù…Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
  const totalSecondsInDay = 24 * 60 * 60;
  const remainingSeconds = (hours * 3600) + (minutes * 60) + seconds;
  const elapsedSeconds = totalSecondsInDay - remainingSeconds;
  
  // Ù†Ø³Ø¨Ø© Ø§Ù„ÙŠÙˆÙ… (Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙŠ Ù…Ø±Øª Ù…Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ)
  const dayProgress = (elapsedSeconds / totalSecondsInDay) * 100;
  // Ù†Ø³Ø¨Ø© Ø§Ù„Ø³Ø§Ø¹Ø© (Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙŠ Ù…Ø±Øª Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©)
  const hourProgress = ((60 - minutes - seconds/60) / 60) * 100; 
  // Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© (Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙŠ Ù…Ø±Øª Ù…Ù† Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©)
  const minProgress = ((60 - seconds) / 60) * 100;

  dayBar.style.width = Math.max(0, Math.min(100, dayProgress)) + '%';
  hourBar.style.width = Math.max(0, Math.min(100, hourProgress)) + '%';
  minBar.style.width = Math.max(0, Math.min(100, minProgress)) + '%';

  // update conic gradient for ring (use remaining hours ratio)
  const ring = document.getElementById('ring');
  // Ù†Ø³Ø¨Ø© Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ ÙÙŠ Ø§Ù„ÙŠÙˆÙ… (ÙƒØ³Ø± Ù…Ù† 360 Ø¯Ø±Ø¬Ø©)
  const hoursRatio = remainingSeconds / totalSecondsInDay; 
  const deg = Math.round(hoursRatio * 360);
  // Ø¹ÙƒØ³ Ø§Ù„Ø§ØªØ¬Ø§Ù‡: ÙŠØ¨Ø¯Ø£ Ù…Ù† 360 Ø¯Ø±Ø¬Ø© (Ø§Ù„Ù„ÙˆÙ† ÙƒØ§Ù…Ù„) ÙˆÙŠÙ‚Ù„ Ù…Ø¹ Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª
  const actualDeg = 360 - deg;
  ring.style.background = `conic-gradient(var(--accent) ${actualDeg}deg, rgba(255,255,255,0.02) ${actualDeg}deg)`;


  if(distance <= 0){
    // reached midnight
    // Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚ØªØŒ Ù†Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø­ØªÙØ§Ù„ Ù„Ø¨Ø±Ù‡Ø© Ø«Ù… ÙŠØ³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¹Ø¯ Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ
    showCelebration();
    // Ù†ØªØ±Ùƒ Ø§Ù„Ù…Ø¤Ù‚Øª Ù…Ø³ØªÙ…Ø±Ù‹Ø§ (setInterval) Ù„ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡Ø¯Ù Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
  }
}


updateCountdown();
// ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© (1000 Ù…ÙŠÙ„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©)
const interval = setInterval(updateCountdown, 1000);

/* ====== Celebration (simple confetti) ====== */
const overlay = document.getElementById('overlay');
const confettiCanvas = document.getElementById('confetti');
const ctx = confettiCanvas.getContext('2d');
let confettiPieces = [];

function random(min,max){ return Math.random()*(max-min)+min; }

function spawnConfetti(){
  confettiPieces = [];
  const w = confettiCanvas.width = confettiCanvas.clientWidth * 1;
  const h = confettiCanvas.height = 300;
  for(let i=0;i<140;i++){
    confettiPieces.push({
      x: random(0,w),
      y: random(-h,0),
      r: random(6,12),
      d: random(4,10),
      color: i%2? '#ff49a1' : '#00e0ff',
      tilt: random(-15,15),
      tiltSpeed: random(0.05,0.2)
    });
  }
  animateConfetti();
}

let confAnim = null;
function animateConfetti(){
  if(!confettiCanvas || !overlay.classList.contains('show')) {
      confAnim = null;
      return;
  }
  ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
  for(let p of confettiPieces){
    p.y += p.d;
    p.tilt += p.tiltSpeed;
    ctx.save();
    ctx.translate(p.x, p.y);
    ctx.rotate(p.tilt * Math.PI/180);
    ctx.fillStyle = p.color;
    ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
    ctx.restore();
    if(p.y > confettiCanvas.height + 20){
      p.y = random(-200, -10);
      p.x = random(0, confettiCanvas.width);
    }
  }
  confAnim = requestAnimationFrame(animateConfetti);
}

// Ù…Ø¤Ù‚Øª Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø§Ø­ØªÙØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ Ù…Ø¯Ø©
let autoCloseTimer = null;
function showCelebration(){
  // Ù…Ù†Ø¹ Ø§Ù„ÙØªØ­ Ø§Ù„Ù…ØªÙƒØ±Ø± Ù„Ù„Ø§Ø­ØªÙØ§Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© Ø¨Ø¹Ø¯ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„
  if(overlay.classList.contains('show')) return;
  
  overlay.classList.add('show');
  spawnConfetti();
  
  // Ø¥ØºÙ„Ø§Ù‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†ÙŠ (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡)
  clearTimeout(autoCloseTimer);
  autoCloseTimer = setTimeout(()=>{
    overlay.classList.remove('show');
    if(confAnim) cancelAnimationFrame(confAnim);
  }, 10000); 

  // try play a short beep melody (autoplay may be blocked on some browsers)
  try{
    const ctxAudio = new (window.AudioContext || window.webkitAudioContext)();
    const o = ctxAudio.createOscillator();
    const g = ctxAudio.createGain();
    o.type = 'sine';
    o.frequency.value = 880;
    g.gain.value = 0.0015;
    o.connect(g);
    g.connect(ctxAudio.destination);
    o.start();
    // stop after 800ms with a small envelope
    setTimeout(()=>{ g.gain.exponentialRampToValueAtTime(0.00001, ctxAudio.currentTime + 0.2); o.stop(ctxAudio.currentTime + 0.22); }, 800);
  }catch(e){ /* ignore audio errors */ }
}

/* close overlay */
document.getElementById('closeOverlay').addEventListener('click', ()=>{
  overlay.classList.remove('show');
  if(confAnim) cancelAnimationFrame(confAnim);
  clearTimeout(autoCloseTimer); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
});

/* copy code button behavior: copy HTML to clipboard for quick upload */
document.getElementById('copyBtn').addEventListener('click', async ()=>{
  // Ø­Ø°Ù ÙˆØ³Ù… Ø§Ù„Ù€ <script> Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø§Ø­ØªÙØ§Ù„ Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„ØªØ¬Ù†Ø¨ ØªÙƒØ±Ø§Ø± Ø§Ù„ÙƒÙˆØ¯ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø³Ø®
  const scriptElement = document.querySelector('script');
  const scriptContent = scriptElement.outerHTML;
  scriptElement.remove(); 
  
  const html = `\n` + document.documentElement.outerHTML;
  
  // Ø¥Ø¹Ø§Ø¯Ø© ÙˆØ³Ù… Ø§Ù„Ù€ <script>
  document.body.appendChild(scriptElement);

  try{
    await navigator.clipboard.writeText(html);
    alert('Ø§Ù„ÙƒÙˆØ¯ Ø§Ù†Ø³Ø®! Ø§ÙØªØ­ Ù…ÙÙƒØ±Ø© ÙˆØ§Ù„ØµÙ‚Ù‡Ø§ ÙˆØ§Ø­ÙØ¸ Ø¨Ø§Ø³Ù… index.html');
  }catch(e){
    alert('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø® ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ø­Ø§ÙˆÙ„ Ù†Ø³Ø®Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ø§Ù„ØµÙØ­Ø©.');
  }
});

/* preview button: open a new window with the same HTML (works in browser desktop/mobile that ÙŠØ³Ù…Ø­) */
document.getElementById('previewBtn').addEventListener('click', ()=>{
  const html = '<!doctype html>' + document.documentElement.outerHTML;
  const w = window.open();
  if(!w){ alert('ÙØ´Ù„ ÙØªØ­ Ù…Ø¹Ø§ÙŠÙ†Ø©. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù†ÙˆØ§ÙØ° Ù…Ù†Ø¨Ø«Ù‚Ø©.'); return; }
  w.document.open();
  w.document.write(html);
  w.document.close();
});

/* shareBtn hint */
document.getElementById('shareBtn').addEventListener('click', ()=>{
  alert('Ø¨Ø¹Ø¯ Ù…Ø§ ØªØ±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø¹Ù„Ù‰ Netlify/CodePen Ø§Ù†Ø³Ø® Ø§Ù„Ù„ÙŠÙ†Ùƒ Ù‡Ù†Ø§ ÙˆØ§Ø¨Ø¯Ø£ ØªØ´Ø§Ø±ÙƒÙ‡ â¤ï¸');
});

/* make overlay clickable when user taps anywhere to close (mobile friendly) */
overlay.addEventListener('click', (e)=>{
  if(e.target === overlay) { 
    overlay.classList.remove('show'); 
    if(confAnim) cancelAnimationFrame(confAnim); 
    clearTimeout(autoCloseTimer);
  }
});
</script>
</body>
</html>
